# Zanticheat

Плагин для обнаружения и предотвращения читов на серверах Minecraft.

## Описание

Zanticheat - это плагин для Minecraft, который обнаруживает различные типы читов, такие как:
- Флай-хаки
- Спид-хаки
- NoFall (отключение урона от падения)
- Неправильное использование элитр
- Ускорение на элитрах

Плагин анализирует движения игроков и другие действия для выявления подозрительного поведения.

## Сборка проекта

Для сборки плагина:

1. Клонируйте репозиторий:
```
git clone https://github.com/Z-oobastik-s/Zanticheat.git
```

2. Перейдите в директорию проекта:
```
cd Zanticheat
```

3. Запустите сборку с помощью Gradle:
```
./gradlew.bat fatJar
```

Собранный JAR-файл будет находиться в директории `build/libs`.

## Установка

1. Скопируйте JAR-файл в директорию `plugins` вашего сервера Minecraft.
2. Перезапустите сервер.
3. Настройте плагин через файл `config.yml`.

## Конфигурация

После первого запуска плагин создаст следующие конфигурационные файлы:
- `config.yml` - основные настройки плагина
- `messages.yml` - настраиваемые сообщения

### Основные настройки (config.yml)

```yaml
# Основные настройки плагина
settings:
  debug: false # Режим отладки
  prefix: "&7[&cZanticheat&7]" # Префикс в сообщениях
  check_interval_ticks: 5 # Интервал проверки (в тиках)

# Настройки обнаружения читов
detection:
  fly:
    enabled: true # Включить обнаружение флай-хаков
    max_air_time: 20 # Максимальное время в воздухе (в тиках)
    violation_threshold: 3 # Количество нарушений для срабатывания
    
  speed:
    enabled: true # Включить обнаружение спид-хаков
    max_speed: 0.7 # Максимальная скорость передвижения
    violation_threshold: 3 # Количество нарушений для срабатывания
    
  nofall:
    enabled: true # Включить обнаружение NoFall
    check_delay: 10 # Задержка между проверками (в тиках)
    
  elytra_fly:
    enabled: true # Включить обнаружение неправильного использования элитр
    max_speed: 3.0 # Максимальная скорость на элитрах
    
  elytra_boost:
    enabled: true # Включить обнаружение ускорения на элитрах
    max_acceleration: 1.5 # Максимальное ускорение
    firework_cooldown_ms: 3000 # Время действия фейерверка (в мс)
    
  vehicles:
    enabled: true # Включить обнаружение транспорта (лодки, животные и т.д.)
    ignore_all: true # Игнорировать все проверки для игроков в транспорте

# Настройки наказаний
punishments:
  fly:
    action: "kick" # Действие при обнаружении (kick, ban, command, auto_commands)
    message: "&cВы были кикнуты за использование флай-хака"
    
  speed:
    action: "kick"
    message: "&cВы были кикнуты за использование спид-хака"
    
  nofall:
    action: "kick"
    message: "&cВы были кикнуты за использование NoFall"
    
  elytra_fly:
    action: "kick"
    message: "&cВы были кикнуты за неправильное использование элитр"
    
  elytra_boost:
    action: "kick"
    message: "&cВы были кикнуты за ускорение на элитрах"
    
  auto_commands:
    - "say %player% был обнаружен с читами"
    - "tp %player% spawn"

# Настройки исключений
whitelist:
  players: [] # Список игроков, которые не проверяются
  worlds: [] # Список миров, где проверки отключены
  regions: [] # Список регионов WorldGuard, где проверки отключены
```

## Команды

| Команда | Описание | Разрешение |
|---------|----------|------------|
| `/zac reload` | Перезагрузить конфигурацию плагина | `zanticheat.admin` |
| `/zac check <игрок>` | Проверить игрока на наличие читов | `zanticheat.check` |
| `/zac whitelist add <игрок>` | Добавить игрока в белый список | `zanticheat.whitelist` |
| `/zac whitelist remove <игрок>` | Удалить игрока из белого списка | `zanticheat.whitelist` |
| `/zac whitelist list` | Показать список игроков в белом списке | `zanticheat.whitelist` |

## Разрешения

| Разрешение | Описание |
|------------|----------|
| `zanticheat.admin` | Доступ ко всем командам плагина |
| `zanticheat.check` | Возможность проверять игроков на наличие читов |
| `zanticheat.whitelist` | Управление белым списком игроков |
| `zanticheat.bypass` | Игнорирование всех проверок |
| `zanticheat.bypass.fly` | Игнорирование проверок на флай-хаки |
| `zanticheat.bypass.speed` | Игнорирование проверок на спид-хаки |
| `zanticheat.bypass.nofall` | Игнорирование проверок на NoFall |
| `zanticheat.bypass.elytra` | Игнорирование проверок на элитры |
| `zanticheat.notify` | Получение уведомлений о нарушениях |

## Интеграции

### WorldGuard

Плагин поддерживает интеграцию с WorldGuard для отключения проверок в определенных регионах. Добавьте названия регионов в список `whitelist.regions` в файле `config.yml`.

## Логирование

Плагин записывает информацию о нарушениях в консоль и в файл логов. Если включен режим отладки (`settings.debug: true`), будет выводиться дополнительная информация.

## Устранение проблем

Если у вас возникли проблемы с плагином:

1. Убедитесь, что у вас установлена совместимая версия сервера 1.21.4
2. Проверьте файл логов сервера на наличие ошибок.
3. Включите режим отладки в конфигурации и перезапустите сервер.
4. Проверьте, не конфликтует ли плагин с другими плагинами.
